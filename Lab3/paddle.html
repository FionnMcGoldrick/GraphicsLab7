<!DOCTYPE html>

<html>

<head>
  <meta charset="UTF-8">
  <title>Canvas</title>

  <style type="text/css">
    body {
      background-color: white;
    }
  </style>

</head>

<body>

  <h1>Fionn McGoldrick</h1>

  <canvas id="canvas-for-ball" width="500" height="450" style="border:3px solid black "></canvas>


  <script type="text/javascript">
    // Gets a handle to the element with id canvasOne.
    var canvas = document.getElementById("canvas-for-ball");
    // Get a 2D context for the canvas.
    var ctx = canvas.getContext("2d");

    // Declare ball class
    class Ball {
      constructor(x, y, yspeed, xspeed, radius) {

        this.x = x;
        this.y = y;
        this.yspeed = yspeed;
        this.xspeed = xspeed;
        this.radius = radius;
        this.angle = 0;

      }

      drawball() {

        ctx.save();

        //ctx.translate(this.x,this.y);

        //ctx.rotate(this.angle*Math.PI /180);

        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);

        //First line of peace sign
        ctx.moveTo(this.x, (this.y - 9));
        ctx.lineTo(this.x, (this.y));
        ctx.stroke();

        //Second line
        ctx.moveTo((this.x + 9), (this.y + 6));
        ctx.lineTo((this.x), (this.y));
        ctx.stroke();

        //third line
        ctx.moveTo((this.x - 9), (this.y + 6));
        ctx.lineTo((this.x), (this.y));
        ctx.stroke();

        //Last line
        ctx.moveTo((this.x), (this.y + 10));
        ctx.lineTo((this.x), (this.y));
        ctx.stroke();

        ctx.restore();

      }

      moveball() {

        this.y += this.yspeed;
        this.x += this.xspeed;

        //Check if the ball has reached the bottom and bounce it
        if (this.y > 445) {
          this.yspeed = (this.yspeed * -1);
        }
        if (this.y < 10) {
          this.yspeed = (this.yspeed * -1);
        }

        //Check if the ball has reached the side and bounce it
        if (this.x > 495) {
          this.xspeed = (this.xspeed * -1);
        }
        if (this.x < 10) {
          this.xspeed = (this.xspeed * -1);
        }

      }

      rotateball() {

        //Increase rotation of ball
        this.angle += 5;

      }

    }


    const myBall = new Ball(250, 10, 5, 5, 10);

    // A function to repeat every time the animation loops.
    function repeatme() {

      ctx.clearRect(0, 0, 500, 450);

      myBall.drawball();

      // myBall.rotateball();

      myBall.moveball();


      window.requestAnimationFrame(repeatme);

    }


    // Get the animation going.
    repeatme();
  </script>

</body>

</html>